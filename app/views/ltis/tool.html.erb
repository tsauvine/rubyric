<% if @tp.instructor? %>
  <p>You are a teacher, so you could configure this tool now if it were cool enough to have configurations.</p>
  <p>If you come back as a student you may get to take a test.</p>
<% elsif @tp.student? %>
  <p>You're lucky this isn't an assessment launch, you just get to sit here and do nothing.</p>
<% elsif @tp.roles && @tp.roles.any? %>
  <p>Your roles are <%= @tp.roles.join(",") %></p>
<% else %>
  <p>You don't have a role so I don't know what to do with you.</p>
<% end %>

<p>
  These are the two parts that are used to sign the request.  The signature is
  calculated using <%= params['oauth_signature_method'] %>, and then it
  is encoded to base64.
</p>

<% if defined?(@tp) && @tp && @tp.launch_presentation_return_url %>
  <a href="<%= @tp.build_return_url %>">Click here to return to <%= @tp.tool_consumer_instance_name || "your LMS" %>.</a>
<% end %>
